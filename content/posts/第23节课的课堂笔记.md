---
title: "23-java web: web前后端架构分析实战"
date: 2020-06-07T07:55:48+08:00
draft: fales
---

# Web前后端基础架构原理

计算机⽹络是如何⼯作的(数据是如何发送和接收的)
---
1. 在打开⽹⻚的时候发⽣了什么
* 计算机网络：
  * 世界上很多台主机彼此之间用网络连接起来，每个主机都有个IP地址
* IP地址(Internet Protocol Address:网络协议)：
    * 在IPV4的世界里是32位，4个Byte(无符号，所以每个Byte最大不超过255)，用点连接起来的IP地址
    * 每个地址都可以准确定位到一台主机
    * IPv6可以为地球上的每一粒沙子提供一个地址，可以解决IPV4带来的IP地址短缺问题

* 域名与DNS(域名解析服务器)
   * 在网页上输入豆瓣网址的时候，按下回车
 如果计算机不知道淘宝的主机在哪，它就会向DNS请求查询douban.com,DNS会返回一个地址154.8.131.172，按照这个地址，你就能够去跟豆瓣的主机通信了

   * 如果本地hosts恰好保存了从douban.com->154.8.131.172的映射
 我们就不需要查找DNS了，节省时间
* 端⼝：
  * 一台计算机有很多很多对外的端口，你可以指定与其中一个进行通信
  * HTTPS协议的默认端⼝是443，HTTP协议的默认端⼝是80 

  * 端口指定了你通信的这个主机上的一个归属地
* TCP协议(Transmission Control Protocol：传输控制协议)
  * TCP是基于流的协议,在⽹络上传输的只是字节流，这点非常关键！请记住！
  * TCP是一条双向的数据高速公路：向你想要访问的服务器所指定的端口开辟了一条双向双车道的一个数据高速公路
  * 定义了字节流在网络上如何发送和接收

浏览器是如何⼯作的(数据是如何被浏览器处理的)
--- 
* HTTP协议(HyperText Transfer Protocol:超文本传输协议)
  * 通过浏览器给豆瓣发送一个HTTP请求
  请求报文的组成内容: 
    * 请求行: 请求方法 + URL + HTTP/版本号
    * 请求头
    * 空行 
    * 请求体
  * 豆瓣服务器处理浏览器请求，将处理结果返回给浏览器(响应)：
      * 响应头(Response Headers):HTTP/版本号 + 返回码 + 返回码描述
        * HTTP/1.1 200 OK
      * 应答首部字段(可选)
        * Content-Type text/html;charset=UTF-8
      * 空行
      * 响应体(http Response body)
         * 文本
         * 二进制
             * 图片
             * 声音
             * 下载的文件
* 服务器返回的是纯字节流，至于如何解释这些字节流，是按照文本解释，还是html解释，还是按照下载文件解释，由Http response header中的Content-Type 头来指定

* HTML(HyperText Markup Language:超文本标记语言)
  * HTML在解析响应体的过程中会发出新的请求，豆瓣再响应，以此往复，直到响应体全部解析完毕
  * JavaScript 
    * 是一种脚本语言，可以用来创建动态更新的内容，控制多媒体，制作图像动画，还有很多。
  * CSS
     * 一个样式表，告诉浏览器当前的页面应该如何被渲染


使⽤Java代码访问GitHub的issues
---
* 学会善用搜索，比如首先要知道如何从JAVA里发出一个HTTP请求
搜索后，有人会推荐你使用什么进行请求，然后去maven仓库搜索这个东西
* 选择⼀个合适的客户端 
* 如何快速上⼿使⽤⾃⼰从没⽤过的库？

* 设置正确的HTTP header 
* 发送请求，等待响应
* 解析拿到的响应

为什么有些数据拿不到？
---
* 同步与异步加载
  * 服务器端⼀次返回所有的数据
  * 服务器端返回部分数据，使⽤AJAX异步加载

只要浏览器能做到的，其他代码一定能做到
---


